<!DOCTYPE html>
<html>
    <head>
        <title>Employee App</title>
        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    </head>
    <body ng-app="empApp" ng-controller="empCtrl">
        <div class="container">
            <h2>Employee App</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Employee Name</th>
                        <th>Employee ID</th>
                        <th>Desination</th>
                        <th>Department</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="employee in employeeList">
                        <td ng-if="!isEdit || employee._id !== empId">{{employee.emp_name}}</td>
                        <td ng-if="!isEdit || employee._id !== empId">{{employee.emp_id}}</td>
                        <td ng-if="!isEdit || employee._id !== empId">{{employee.designation}}</td>
                        <td ng-if="!isEdit || employee._id !== empId">{{employee.project_data[0].project_name}}</td>
                        <td ng-if="isEdit && employee._id === empId"><input class="form-control" ng-model="employeeUpdateObj.emp_name"></td>
                        <td ng-if="isEdit && employee._id === empId"><input class="form-control" ng-model="employeeUpdateObj.emp_id"></td>
                        <td ng-if="isEdit && employee._id === empId"><input class="form-control" ng-model="employeeUpdateObj.designation"></td>
                        <td ng-if="isEdit && employee._id === empId">
                                <select class="form-control" ng-model="employeeUpdateObj.project_name">
                                        <option>Nedbank</option>
                                        <option>AA</option>
                                        <option>Cisco</option>
                                        <option>HDFC</option>
                                        <option>LPT</option>
                                        <option>IGovernment</option>
                                    </select>
                        </td>
                        <td><button class="btn" ng-click="removeEmoployee(employee._id)">Remove</button></td>
                        <td ng-if="!isEdit || employee._id !== empId"><button class="btn" ng-click="editEmoployee(employee._id)">Edit</button></td>
                        <td ng-if="isEdit && employee._id === empId"><button class="btn" ng-click="updateEmployeeDetails()">Update</button></td>
                        <td><button class="btn" ng-click="getAddress($index+1)">Get Address</button></td>
                    </tr>
                    <tr ng-if="!isEdit">
                        <td><input class="form-control" ng-model="employeeObj.emp_name"></td>
                        <td><input class="form-control" ng-model="employeeObj.emp_id"></td>
                        <td><input class="form-control" ng-model="employeeObj.designation"></td>
                        <td>
                            <select class="form-control" ng-model="employeeObj.project_name">
                                <option>Nedbank</option>
                                <option>AA</option>
                                <option>Cisco</option>
                                <option>HDFC</option>
                                <option>LPT</option>
                                <option>IGovernment</option>
                            </select>
                        </td>
                        <td><button class="btn btn-primary" ng-click="addEmployeeDetails()">Add</button></td>
                    </tr>
                </tbody>
            </table>
            {{address}}
        </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="controllers/employee.controller.js"></script>
</html>